<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>製作星星jQuery</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>

    <script>
        $(function () {
            var flag = true;

            $("img").mouseover(over).mouseout(out).click(click01);
            function over() {
                if (flag) {
                    $(this).attr("src", "Images/chngstar.gif").
                        prevAll().attr("src", "Images/chngstar.gif").end().
                        nextAll().attr("src", "Images/star.gif");

                    let num = parseInt(($(this).prop("id")).substr(5))
                    document.querySelector("#p1").innerHTML = `打分中，${num}顆星...`;
                }


            }

            function out() {
                if (flag) {

                    $("img").attr("src", "Images/star.gif")
                    document.querySelector("#p1").innerHTML = `請給分!`;

                }


            }
            function click01() {
                if (flag) {
                    $(this).attr("src", "Images/chngstar.gif").
                        nextAll().attr("src", "Images/star.gif")

                    let num = parseInt(($(this).prop("id")).substr(5))
                    document.querySelector("#p1").innerHTML = `你給${num}顆星!`;
                    flag = false;
                }
            }

            $("*").dblclick(function () {
                $("img").attr("src", "Images/star.gif")
                document.querySelector("#p1").innerHTML = `請給分!`;
                flag = true;
            })
        });

    </script>


    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin:0px;
            padding:0px;
        }

        #content {
            width: 800px;
            height: 200px;

            border: 1px dashed red;
        }

        hr {
            color: blue;
        }

        p {
            position: relative;
            left: 350px;
            color: black;
        }

        img {
            width: 150px
        }
    </style>
</head>
<body>
    <div id="content">
        <div id="div1">
            <img id="idimg1" src="Images/star.gif" />
            <img id="idimg2" src="Images/star.gif" />
            <img id="idimg3" src="Images/star.gif" />
            <img id="idimg4" src="Images/star.gif" />
            <img id="idimg5" src="Images/star.gif" />

            <hr />
            <p id="p1"></p>
        </div>
    </div>


</body>
</html>