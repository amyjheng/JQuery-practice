<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>01resize.html</title>
    <style>
        img{
            position: absolute;
            width:400px;
            height:300px;
            /*float: left;*/
            } 

        #div1 {
            position: absolute;
            width: 400px;
            height: 300px;                                
        }       
    </style>
    
</head>
<body>
    <div id="div1">
        <img id="image1" src="images/tesla1.jpg">
    </div>

    <!--<script src="../js/jquery-3.5.1.min.js"></script>-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
          

            //當視窗放大或縮小時呼叫move_div的函式
            //讓div1置中


            let beforewidth = $(window).width();
            let beforeheight = $(window).height();

            let window_width;
            let window_height;

            let beforeimgwidth = $("#image1").width();
            let beforeimgheight = $("#image1").height();

            move_div();

            $(window).resize(move_div);

            function move_div() {

             
                window_width = $(window).width();
                window_height = $(window).height();

                let perwid = (window_width / beforewidth);
                let perheight = (window_height / beforeheight);

                //console.log(perwid);
                //console.log(perheight);

                let afterimgwidth = perwid * beforeimgwidth;
                let afterimgheight = perheight * beforeimgheight;
                $("#image1").width(afterimgwidth).height(afterimgheight);

                //let img_width = $("#div1").width() ;
                //let div_height = $("#div1").height() ;

                let top = (window_height - afterimgheight) / 2
                let left = (window_width - afterimgwidth) / 2
                $("#image1").css("top", top).css("left", left);

                beforewidth = window_width;
                beforeheight = window_height;
                beforeimgwidth = afterimgwidth;
                beforeimgheight = afterimgheight;

                console.log(top*2);
                console.log(afterimgheight)
                console.log(window_height)

            }
        });
    </script>
</body>
</html>